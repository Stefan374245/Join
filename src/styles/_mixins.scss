@mixin flex($direction: row, $justify: flex-start, $align: stretch) {
  display: flex;
  flex-direction: $direction;
  justify-content: $justify;
  align-items: $align;
}

@mixin grid($columns: 1, $gap: $spacing-md) {
  display: grid;
  grid-template-columns: repeat($columns, 1fr);
  gap: $gap;
}

@mixin responsive($breakpoint) {
  @if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) { @content; }
  } @else if $breakpoint == md {
    @media (min-width: $breakpoint-md) { @content; }
  } @else if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) { @content; }
  } @else if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) { @content; }
  }
}

@mixin button-base {
  padding: $spacing-sm $spacing-md;
  border: none;
  border-radius: $border-radius;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: $font-family-base;

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
}

@mixin button-primary {
  @include button-base;
  background-color: $primary-color;
  color: $white;

  &:hover:not(:disabled) {
    background-color: $primary-dark;
  }
}

@mixin button-secondary {
  @include button-base;
  background-color: $white;
  color: $primary-color;
  border: 1px solid $primary-color;

  &:hover:not(:disabled) {
    background-color: rgba($primary-color, 0.1);
  }
}

@mixin input-base {
  width: 100%;
  padding: $spacing-sm;
  border: 1px solid $gray-300;
  border-radius: $border-radius;
  font-family: $font-family-base;
  font-size: $font-size-base;

  &:focus {
    outline: none;
    border-color: $primary-color;
    box-shadow: 0 0 0 2px rgba($primary-color, 0.2);
  }
}

// Generate user color classes
@mixin generate-user-colors() {
  @each $name, $color in $user-colors {
    .userColor-#{$name} {
      background-color: $color;
    }
  }
}

// Apply user color directly
@mixin user-color($color-name) {
  @if map-has-key($user-colors, $color-name) {
    background-color: map-get($user-colors, $color-name);
  } @else {
    @warn "User color '#{$color-name}' not found in $user-colors map.";
  }
}

// Priority indicator mixin
@mixin priority-indicator($priority: 'low') {
  @if $priority == 'low' {
    background-color: $priority-color-low;
  } @else if $priority == 'medium' {
    background-color: $priority-color-medium;
  } @else if $priority == 'urgent' {
    background-color: $priority-color-urgent;
  }
}

// Main content layout with sidebar and header offset
@mixin main-content-layout {
  margin-left: calc($sidebar-width + $content-offset-left); // 200px + 96px = 296px
  margin-top: calc($header-height + $content-offset-top); // 90px + 20px = 110px
  padding: $spacing-xl;
  min-height: calc(100vh - $header-height - $content-offset-top);
}

// Page content layout for components inside router-outlet
@mixin page-content-layout {
  padding: $spacing-xl;
  width: 100%;
  box-sizing: border-box;
}

// Page with centered content
@mixin page-content-centered {
  @include page-content-layout;
  display: flex;
  flex-direction: column;
  align-items: center;
}

// Content that sits directly at sidebar (no left margin)
@mixin content-at-sidebar {
  margin-left: $sidebar-width; // Only sidebar width, no offset
  margin-top: calc($header-height + $content-offset-top);
  padding: $spacing-xl;
  min-height: calc(100vh - $header-height - $content-offset-top);
}

// Page title spacing
@mixin page-title {
  font-size: 61px;
  font-weight: 700;
  color: $primary-color;
  margin: 0 0 $spacing-xl 0;
}
