@import "../../../../styles/variables";
@import "../../../../styles/mixins";

%card-base {
  background: $white;
  border-radius: 1.875rem;
  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.3s ease-in-out;
}

%card-hover {
  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.4);
  background-color: $primary-color;
}

%text-transition {
  transition: color 0.3s ease-in-out;
}

.main-summary {
  position: relative;
  background-color: $background-color;
  max-width: 100%;

  &.guest-mode {
    summary { align-items: center; }
    .summary-grid { justify-content: center; }
  }
}

summary {
  @include flex(column, flex-start, flex-start);
  gap: 3.5rem;

  @media (max-width: 650px) {
    gap: 0;
  }
}

.summary-header {
  @include flex(row, flex-start, center);
  gap: $spacing-md;

  h1 {
    @include page-title;
    margin: 0;
    white-space: nowrap;
  }

  .header-divider-wrapper {
    @include flex(row, flex-start, center);
    gap: $spacing-md;
  }

  .header-divider {
    width: 3px;
    height: 3rem;
    background-color: $secondary-color;
  }

  p {
    margin: 0;
    font-size: 1.25rem;
    color: $primary-color;
    cursor: default;
  }

  @media (max-width: 650px) {
    flex-direction: column;
    align-items: flex-start;
    margin-bottom: 2.5rem;
    gap: 0;
    height: 7.5rem;
    justify-content: space-between;

    .header-divider-wrapper {
      flex-direction: column-reverse;
      gap: $spacing-md;
      align-items: flex-start;
    }

    .header-divider {
      width: 5.625rem;
      height: 3px;
    }
  }
}

.summary-grid {
  @include flex(row, flex-start, center);
  gap: 3.75rem;

  @media (max-width: 968px) {
    flex-direction: column;
    gap: 2.5rem;
  }
}

.stats-panel {
  @include flex(column, flex-start, stretch);
  gap: $spacing-lg;
  min-width: 25rem;
  max-width: 35rem;

  @media (max-width: 650px) {
    min-width: 100%;
    width: 100%;
    gap: $spacing-md;
  }
}

%stats-row {
  @include flex(row, space-between, stretch);
  gap: $spacing-md;

  @media (max-width: 650px) {
    gap: 0.9375rem;
  }

  @media (max-width: 410px) {
    gap: 0.625rem;
  }
}

.stats-row-top {
  @extend %stats-row;
  flex-direction: row-reverse;
}

.stats-row-middle {
  @extend %stats-row;
}

.stats-row-bottom {
  @extend %stats-row;
}

.done-card,
.todo-card {
  @extend %card-base;
  width: 16.5rem;
  height: 10.5rem;
  @include flex(row, center, center);
  gap: 1.125rem;
  padding: 2.375rem 1.1875rem;

  .card-icon-wrapper {
    position: relative;
    width: 3.125rem;
    height: 3.125rem;
    min-width: 3.125rem;
    border-radius: 50%;
    background-color: $primary-color;
    @include flex(row, center, center);

    img {
      position: absolute;
      height: 1.5rem;
      width: 1.5rem;
      transition: opacity 0.3s ease-in-out;

      &.icon-hover { opacity: 0; }
    }
  }

  .card-content {
    @include flex(column, center, flex-start);

    h4 {
      margin: 0;
      font-weight: 600;
      font-size: 3rem;
      color: $primary-color;
      @extend %text-transition;
    }

    p {
      margin: 0;
      font-size: $font-size-sm;
      color: $primary-color;
      @extend %text-transition;
    }
  }

  &:hover {
    @extend %card-hover;
    transform: scale(1.07);

    .card-content h4,
    .card-content p { color: $white; }

    .card-icon-wrapper {
      background-color: $white;

      img.icon-default { opacity: 0; }
      img.icon-hover { opacity: 1; }
    }
  }
}

.done-card {
  padding: 2.375rem 3.625rem;

  &:hover { transform-origin: right center; }
}

.todo-card:hover {
  transform-origin: left center;
}
.urgent-card {
  @extend %card-base;
  width: 22.75rem;
  height: 10.5rem;
  padding: 1.75rem 3rem;
  @include flex(row, center, center);
  gap: $spacing-md;

  .urgent-left {
    @include flex(row, flex-start, center);
    gap: $spacing-md;
  }

  .urgent-icon-wrapper {
    width: 3.125rem;
    height: 3.125rem;
    min-width: 3.125rem;
    border-radius: 50%;
    background-color: $priority-color-urgent;
    @include flex(row, center, center);

    img {
      width: 1.5rem;
      height: 1.5rem;
    }
  }

  .urgent-info {
    @include flex(column, center, flex-start);

    h3 {
      margin: 0;
      font-weight: 600;
      font-size: 3rem;
      color: $primary-color;
      @extend %text-transition;
    }

    p {
      margin: 0;
      font-size: $font-size-base;
      color: $primary-color;
      @extend %text-transition;
    }
  }

  .urgent-divider {
    height: 4.25rem;
    border: 1px solid $border-color;
    @extend %text-transition;
  }

  .urgent-right {
    @include flex(column, center, flex-start);
    gap: $spacing-sm;

    .deadline-date {
      margin: 0;
      font-size: $font-size-base;
      font-weight: 700;
      color: $primary-color;
      @extend %text-transition;
    }

    .deadline-label {
      margin: 0;
      font-size: 0.8125rem;
      color: $primary-color;
      @extend %text-transition;
    }
  }

  &:hover {
    @extend %card-hover;
    transform: translate(5px, 5px);

    .urgent-info h3,
    .urgent-info p,
    .urgent-right .deadline-date,
    .urgent-right .deadline-label { color: $white; }

    .urgent-divider { border-color: $white; }
  }
}

.email-card,
.stat-card {
  @extend %card-base;
  width: 10.5rem;
  height: 10.5rem;
  padding: 1.5625rem 0;
  @include flex(column, center, center);
  gap: 0.8125rem;

  &:hover {
    @extend %card-hover;
    transform: translate(5px, 5px);
  }
}

.email-card {
  .email-content {
    @include flex(column, center, center);
    gap: $spacing-xs;
    text-align: center;

    h4 {
      margin: 0;
      font-weight: 600;
      font-size: 4rem;
      background: linear-gradient(180deg, #8933fc 0%, #29abe2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      transition: opacity 0.3s ease-in-out;
    }

    p {
      margin: 0;
      font-size: $font-size-sm;
      line-height: 1.3;
      color: $primary-color;
      @extend %text-transition;
    }
  }

  &:hover {
    .email-content h4 {
      background: $white;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .email-content p { color: $white; }
  }
}

.stat-card {
  .stat-content {
    @include flex(column, center, center);
    gap: $spacing-xs;

    h3 {
      margin: 0;
      font-weight: 600;
      font-size: 3rem;
      color: $primary-color;
      @extend %text-transition;
    }

    p {
      margin: 0;
      font-size: $font-size-sm;
      color: $primary-color;
      @extend %text-transition;
    }
  }

  &:hover {
    .stat-content h3,
    .stat-content p { color: $white; }
  }
}

.greeting-card {
  @include flex(column, flex-start, flex-start);
  gap: $spacing-xs;
  padding-top: 6.25rem;

  h2 {
    margin: 0;
    font-weight: 500;
    font-size: 2.5rem;
    color: $primary-color;
    cursor: default;
  }

  h3 {
    margin: 0;
    font-weight: 700;
    font-size: 3rem;
    color: $secondary-color;
    cursor: default;
  }

  @media (max-width: 968px) {
    display: none;
  }
}

@media (max-width: 650px) {
  .done-card,
  .todo-card {
    width: 11.625rem;
    height: 6.875rem;
    gap: 0.625rem;
    border-radius: 1.25rem;

    .card-icon-wrapper {
      width: 2.5rem;
      height: 2.5rem;
      min-width: 2.5rem;

      img {
        height: 1.25rem;
        width: 1.25rem;
      }
    }

    .card-content h4 { font-size: 2.25rem; }
    .card-content p { font-size: 0.75rem; }
  }

  .urgent-card {
    width: 16rem;
    height: 6.875rem;
    padding: 1.75rem 0;
    gap: $spacing-sm;
    border-radius: 1.25rem;

    .urgent-left { gap: 0.75rem; }

    .urgent-icon-wrapper {
      width: 2.5rem;
      height: 2.5rem;
      min-width: 2.5rem;

      img {
        width: 1.25rem;
        height: 1.25rem;
      }
    }

    .urgent-info h3 { font-size: 2rem; }
    .urgent-info p { font-size: 0.75rem; }
    .urgent-divider { height: 3rem; }

    .urgent-right {
      gap: $spacing-xs;

      .deadline-date { font-size: $font-size-sm; }
      .deadline-label { font-size: 0.75rem; }
    }
  }

  .email-card,
  .stat-card {
    border-radius: 1.25rem;
  }

  .email-card {
    width: 7.25rem;
    height: 6.875rem;
    padding: 1.5625rem 0;

    .email-content h4 { font-size: 2.5rem; }
    .email-content p { font-size: 0.6875rem; }
  }

  .stat-card {
    width: 7.25rem;
    height: 7.25rem;

    .stat-content h3 { font-size: 2rem; }
    .stat-content p { font-size: 0.6875rem; }
  }

  .greeting-card {
    h2 { font-size: 2rem; }
    h3 { font-size: 2.25rem; }
  }
}

@media (max-width: 410px) {
  .done-card,
  .todo-card {
    width: 9rem;
    height: 5.5rem;
    padding: 1.5rem 0.75rem;
    gap: $spacing-sm;

    .card-icon-wrapper {
      width: 2rem;
      height: 2rem;
      min-width: 2rem;

      img {
        height: 1rem;
        width: 1rem;
      }
    }

    .card-content h4 { font-size: 1.75rem; }
    .card-content p { font-size: 0.625rem; }
  }

  .urgent-card {
    width: 12rem;
    height: 5.5rem;
    padding: $spacing-md $spacing-sm;
    gap: 0.375rem;

    .urgent-left { gap: $spacing-sm; }

    .urgent-icon-wrapper {
      width: 2rem;
      height: 2rem;
      min-width: 2rem;

      img {
        width: 1rem;
        height: 1rem;
      }
    }

    .urgent-info h3 { font-size: 1.5rem; }
    .urgent-info p { font-size: 0.625rem; }
    .urgent-divider { height: 2.5rem; }

    .urgent-right {
      gap: 0.125rem;

      .deadline-date { font-size: 0.75rem; }
      .deadline-label { font-size: 0.625rem; }
    }
  }

  .email-card,
  .stat-card {
    width: 5.5rem;
    height: 5.5rem;
    padding: $spacing-md 0;
    gap: $spacing-sm;
  }

  .email-card {
    .email-content h4 { font-size: 1.75rem; }
    .email-content p { font-size: 0.5625rem; }
  }

  .stat-card {
    .stat-content h3 { font-size: 1.5rem; }
    .stat-content p { font-size: 0.5625rem; }
  }
}
